#!/bin/bash

#######################################################################
# Script de Coleta de Informações de Domínio                          #
#                                                                     #
# Este script coleta informações de um domínio especificado           #
# e salvar os resultados em um diretório.                             #
#                                                                     #
# Ferramentas utilizadas:                                             #
# - Amass, Findomain, Subfinder e Assetfinder                         #
#                                                                     #
# Uso: ./domain_info.sh <domínio>                                     #
#                                                                     #
# Autor: Pedro Henrique Maciel Alves                                  #
#                                                                     #
#######################################################################

# Verifica se um domínio foi fornecido como argumento
if [ "$#" -ne 1 ]; then
    echo "Uso: $0 <domínio>"
    exit 1
fi

DOMAIN="$1"
RESULTS_DIR="$DOMAIN-results"

# Função para executar uma ferramenta e salvar os resultados
run_tool() {
    local tool_name="$1"
    local tool_command="$2"
    echo "Iniciando $tool_name..."
    $tool_command > "$RESULTS_DIR/${tool_name}_results.txt"
    echo "$tool_name concluído."
}

# Cria um diretório para armazenar os resultados
mkdir -p "$RESULTS_DIR"

# Executa as ferramentas
run_tool "Amass" "amass enum -d $DOMAIN"
run_tool "Findomain" "findomain -t $DOMAIN"
run_tool "Subfinder" "subfinder -d $DOMAIN"
run_tool "Assetfinder" "assetfinder --subs-only $DOMAIN"
